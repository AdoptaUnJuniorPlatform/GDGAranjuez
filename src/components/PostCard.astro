---
interface Props {
  url: string;
  title: string;
  excerpt: string;
  date: Date;
  author: string;
  authorImage: string;
  tags?: string[];
}

const { url, title, excerpt, date, author, authorImage, tags = [] } = Astro.props;
const formattedDate = new Date(date).toLocaleDateString('ca-ES', { 
  year: 'numeric', 
  month: 'long', 
  day: 'numeric' 
});
---

<article class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 dark:bg-gray-800">
  <a href={url} class="block">
    <div class="p-6">
      <div class="flex items-center mb-4">
        <img 
          src={authorImage} 
          alt={`Foto de ${author}`} 
          class="w-10 h-10 rounded-full mr-3"
          width="40"
          height="40"
        />
        <div>
          <p class="text-sm font-medium text-gray-900 dark:text-white">{author}</p>
          <p class="text-xs text-gray-500">{formattedDate}</p>
        </div>
      </div>
      
      <h3 class="text-xl font-bold text-gray-900 mb-2 dark:text-white">{title}</h3>
      <p class="text-gray-600 mb-4 dark:text-gray-300">{excerpt}</p>
      
      {tags.length > 0 && (
        <div class="flex flex-wrap gap-2">
          {tags.map(tag => (
            <span class="text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded-full dark:bg-purple-900 dark:text-purple-200">
              {tag}
            </span>
          ))}
        </div>
      )}
    </div>
  </a>
</article>